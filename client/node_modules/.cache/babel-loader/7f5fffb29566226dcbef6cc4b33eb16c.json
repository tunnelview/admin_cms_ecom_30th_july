{"ast":null,"code":"var _jsxFileName = \"/Users/shibinabraham/Downloads/24-7-2022 admin cms ecom/client/src/components/user-profile/UpdatePassword.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Form, Toast } from \"react-bootstrap\";\nimport { CustomInput } from \"../custom-input/CustomInput\";\nimport { useSelector } from \"react-redux\";\nimport { updateAdminPassword } from \"../../helpers/axiosHelper\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  currentPassword: \"\",\n  password: \"\",\n  confirmPassword: \"\"\n};\nexport const UpdatePassword = () => {\n  _s();\n\n  const [form, setForm] = useState(initialState);\n  const [error, setError] = useState(\"\");\n  const [disableBtn, setDisableBtn] = useState(true);\n  const {\n    user\n  } = useSelector(state => state.adminUser);\n\n  const hadleOnChage = e => {\n    let {\n      name,\n      value\n    } = e.target;\n\n    if (name === \"password\" || name === \"confirmPassword\") {\n      setError(\"\");\n      !disableBtn && setDisableBtn(true);\n    }\n\n    setForm({ ...form,\n      [name]: value\n    });\n\n    if (name === \"confirmPassword\") {\n      const {\n        password\n      } = form;\n      password !== value && setError(\"Password do not match\");\n      password.length < 6 && setError(\"Password must be longer than 6 characters\");\n      !/[a-z]/.test(password) && setError(\"Password must contain Lowercase\");\n      !/[A-Z]/.test(password) && setError(\"Password must contain Uppercase\");\n      !/[0-9]/.test(password) && setError(\"Password must contain number\");\n      !password && setError(\"New password must be provided\");\n    }\n  };\n\n  const handleOnSubmit = async e => {\n    e.preventDefault();\n    console.log(form);\n    const {\n      confirmPassword,\n      ...rest\n    } = form;\n    const response = updateAdminPassword({ ...rest,\n      email: user.email\n    });\n    toast.promise(response, {\n      pending: \"Please wait ...\"\n    });\n    const {\n      status,\n      message\n    } = await response;\n    toast[status](message);\n  };\n\n  const btnDisable = () => {\n    !error && setDisableBtn(false);\n  };\n\n  const inputFields = [{\n    label: \"Current Password\",\n    name: \"currentPassword\",\n    required: true,\n    type: \"password\",\n    value: form.currentPassword\n  }, {\n    label: \"Password\",\n    name: \"password\",\n    required: true,\n    type: \"password\",\n    value: form.password\n  }, {\n    label: \"Confirm Password\",\n    name: \"confirmPassword\",\n    required: true,\n    type: \"password\",\n    value: form.confirmPassword,\n    onBlur: btnDisable\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-5 mb-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"Update your Password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: handleOnSubmit,\n      children: [inputFields.map((item, i) => /*#__PURE__*/_jsxDEV(CustomInput, { ...item,\n        onChange: hadleOnChage\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(Form.Group, {\n        children: /*#__PURE__*/_jsxDEV(Form.Text, {\n          muted: true,\n          children: \"New Password should contain atleaset one uppdercase, one lowercase, a number and minimun of 6 characters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mt-3\",\n        children: /*#__PURE__*/_jsxDEV(Form.Text, {\n          className: \"text-danger fs-3 fw-bolder\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mt-5\",\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"submit\",\n          value: \"Update Password\",\n          className: \"btn btn-danger\",\n          disabled: disableBtn\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UpdatePassword, \"3IQ2ROV5MwOqtS4H+7z3vA0VpBk=\", false, function () {\n  return [useSelector];\n});\n\n_c = UpdatePassword;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdatePassword\");","map":{"version":3,"names":["React","useState","Form","Toast","CustomInput","useSelector","updateAdminPassword","toast","initialState","currentPassword","password","confirmPassword","UpdatePassword","form","setForm","error","setError","disableBtn","setDisableBtn","user","state","adminUser","hadleOnChage","e","name","value","target","length","test","handleOnSubmit","preventDefault","console","log","rest","response","email","promise","pending","status","message","btnDisable","inputFields","label","required","type","onBlur","map","item","i"],"sources":["/Users/shibinabraham/Downloads/24-7-2022 admin cms ecom/client/src/components/user-profile/UpdatePassword.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Form, Toast } from \"react-bootstrap\";\nimport { CustomInput } from \"../custom-input/CustomInput\";\nimport { useSelector } from \"react-redux\";\nimport { updateAdminPassword } from \"../../helpers/axiosHelper\";\nimport { toast } from \"react-toastify\";\n\nconst initialState = {\n  currentPassword: \"\",\n  password: \"\",\n  confirmPassword: \"\",\n};\nexport const UpdatePassword = () => {\n  const [form, setForm] = useState(initialState);\n  const [error, setError] = useState(\"\");\n  const [disableBtn, setDisableBtn] = useState(true);\n  const { user } = useSelector((state) => state.adminUser);\n\n  const hadleOnChage = (e) => {\n    let { name, value } = e.target;\n    if (name === \"password\" || name === \"confirmPassword\") {\n      setError(\"\");\n      !disableBtn && setDisableBtn(true);\n    }\n\n    setForm({\n      ...form,\n      [name]: value,\n    });\n\n    if (name === \"confirmPassword\") {\n      const { password } = form;\n\n      password !== value && setError(\"Password do not match\");\n      password.length < 6 &&\n        setError(\"Password must be longer than 6 characters\");\n      !/[a-z]/.test(password) && setError(\"Password must contain Lowercase\");\n      !/[A-Z]/.test(password) && setError(\"Password must contain Uppercase\");\n      !/[0-9]/.test(password) && setError(\"Password must contain number\");\n\n      !password && setError(\"New password must be provided\");\n    }\n  };\n\n  const handleOnSubmit = async (e) => {\n    e.preventDefault();\n    console.log(form);\n    const { confirmPassword, ...rest } = form;\n    const response = updateAdminPassword({ ...rest, email: user.email });\n\n    toast.promise(response, { pending: \"Please wait ...\" });\n    const { status, message } = await response;\n    toast[status](message);\n  };\n\n  const btnDisable = () => {\n    !error && setDisableBtn(false);\n  };\n\n  const inputFields = [\n    {\n      label: \"Current Password\",\n      name: \"currentPassword\",\n      required: true,\n      type: \"password\",\n      value: form.currentPassword,\n    },\n    {\n      label: \"Password\",\n      name: \"password\",\n      required: true,\n      type: \"password\",\n      value: form.password,\n    },\n    {\n      label: \"Confirm Password\",\n      name: \"confirmPassword\",\n      required: true,\n      type: \"password\",\n      value: form.confirmPassword,\n      onBlur: btnDisable,\n    },\n  ];\n  return (\n    <div className=\"mt-5 mb-5\">\n      <h4>Update your Password</h4>\n      <hr />\n      <Form onSubmit={handleOnSubmit}>\n        {inputFields.map((item, i) => (\n          <CustomInput key={i} {...item} onChange={hadleOnChage} />\n        ))}\n\n        <Form.Group>\n          <Form.Text muted>\n            New Password should contain atleaset one uppdercase, one lowercase,\n            a number and minimun of 6 characters\n          </Form.Text>\n        </Form.Group>\n\n        <Form.Group className=\"mt-3\">\n          <Form.Text className=\"text-danger fs-3 fw-bolder\">{error}</Form.Text>\n        </Form.Group>\n\n        <Form.Group className=\"mt-5\">\n          <Form.Control\n            type=\"submit\"\n            value=\"Update Password\"\n            className=\"btn btn-danger\"\n            disabled={disableBtn}\n          />\n        </Form.Group>\n      </Form>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}